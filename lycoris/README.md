# Lycoris Chain Information

This consumer chain is based on [Strange](https://github.com/strangelove-ventures/strange). I removed the admin module and added an iris nft module for fun. Feel free to vote yes or no on the proposals as this chain is a plain copy that does not deserve to start and the game is nearing its end. But I would like to add some of my involvement on this task, so please forgive me for submitting these two proposals.

## Contents

* [Status](#status)
* [Chain Data](#chain-data)

## Status

* Timeline
  * 2022-12-09: Stop time: `2022-12-09T18:00:00.000000Z` 
  * 2022-12-09: Spawn time: `2022-12-09T14:00:00.000000Z`
  * 2022-12-09: Proposal 76 voting period ends
  * 2022-12-09: Proposal 74 voting period ends
  * 2022-12-06: Proposal 76 goes into voting period
  * 2022-12-06: Proposal 74 goes into voting period
  * 2022-12-06: Genesis file without CCV state is generated

`lycoris-1` will launch as a consumer chain through a governance proposal in the `provider` chain. Read the [Consumer Chain Start Process](/docs/Consumer-Chain-Start-Process.md) page for more details about the workflow.

The following items will be included in the proposal:
* Genesis file hash
  * The SHA256 is used to verify against the genesis file that the proposer has made available for review.
  * This "fresh" genesis file cannot be used to run the chain: it must be updated with the CCV states after the spawn time is reached.
* Binary hash
* Spawn time
  * Even if the proposal passes, the CCV states will not be available from the provider chain until after the spawn time is reached.

## Chain Data

### Binary

The binary published in this repo is the `lycorisd` binary built using the `taramakage/lycoris` repo tag [v0.1.0](https://github.com/taramakage/lycoris/releases/tag/v0.1.0).

### Genesis file

**The genesis file for Interchain Security consumer chains must include the CCV (Cross Chain Validation) state generated by the provider chain _after_ the spawn time is reached.**

Final genesis file **with CCV state**: **`pending spawn time`**
- SHA256: ``
- Validators must replace their `config/genesis.json` file with this one before running the binary.

The genesis file with was generated using the following settings:

* Chain ID: `lycoris-1`
* Denom: `ulycoris`
* Signed blocks window: `"8640"`
* Genesis accounts were added to provide funds for a faucet and a relayer that will be run by the testnet coordinators.
* Genesis file **without CCV state**: [`lycoris-fresh-genesis.json`](lycoris-fresh-genesis.json), SHA256: `866016a158c4a4e80cf48bb79a3afc0bee65850d52212e19ee34f50c92a71863`
  * **This is provided only for verification, this is not the genesis file validators should be running their nodes with.**

## Endpoints

* **p2p persistent peers : `0571871b2cdf235a3ba8c1a4b03ac996d29a1f70@35.230.9.134:36656,0571871b2cdf235a3ba8c1a4b03ac996d29a1f70@35.230.9.134:36656`**
* These peers represent the `irisnet` validator.

* Please keep in mind that any validator that does not come online after 67% of the voting power is up and running, is likely to be slashed for downtime, potentially resulting in being jailed (the `signed_blocks_window` parameter is set to `8640`).

## Join via Bash Script

On the node machine:
- Copy the `node_key.json` and `priv_validator_key.json` files for your validator.
  - **These should be the same ones as the ones from your provider node**.
- Run one of the following scripts:
  - lycoris service: [lycoris-init.sh](lycoris-init.sh)
  - Cosmovisor service: [lycoris-init-cv.sh](lycoris-init-cv.sh)
- Wait until the spawn time is reached and the genesis file with the CCV states is available.
- Overwrite the genesis file with the one that includes the CCV states.
  - The default location is `$HOME/.lycoris/config/genesis.json`.
- Enable and start the service:
  - lycoris
    ```
    sudo systemctl enable lycoris
    sudo systemctl start lycoris
    ```
  - Cosmovisor
    ```
    sudo systemctl enable cv-lycoris
    sudo systemctl start cv-lycoris
    ```
- To follow the log, use:
  - lycoris: `journalctl -fu lycoris`
  - Cosmovisor: `journalctl -fu cv-lycoris`
- If the log does not show up right away, run `systemctl restart systemd-journald`.
